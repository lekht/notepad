# notepad

Блокнот для заметок с проверкой на орфгорафические ошибки. Сервис также имеет заглушку с имитацией редиса для авторизации пользователя по его id и jwt токену.\
Проверка на орфографические ошибки осуществляется при помощи сервиса [Яндекс.Спеллер](https://yandex.ru/dev/speller/)

Выполните следующую команду, чтобы скачать файлы сервиса:
```
git clone https://github.com/lekht/notepad.git
```

Для развертки приложения можно воспользоваться готовым Makefile'ом, или самостоятельно запустить приложение скопировав соответствующие команды.

## Развертка приложения
Чтобы поднять приложение через docker-compose используйте следующую команду:
```
make run
```

Чтобы остановить введите команду:
```
make stop
```

## API методы
Приложение реализует два метода:
- Создание новой заметки
- Получение всех заметок пользователя

Для передачи jwt токена и id пользователя используются Header запроса "X-Token" и "UserID" соответственно. В случае ошибки авторизации вернется выполнить запрос не получится. \
Для вызова методов предлагаю воспользоваться утилитой curl.

### Создание новой заметки 
Для начала вызовем метод с ложным токеном, чтобы посмотреть как работает авторизация (подразумевается, что пользователь уже прошел аутентификацию):
```
curl -i -H "Content-Type: application/json" -H "X-Token: wrongToken" -H "UserID: 10" -d '{"title":"Сходить в магазин","body":"Купит хлеб, масло и малоко"}' -X POST http://localhost:8088/notepad && echo
```
Вызов метода с орфографическими ошибками в тексте заметки:
```
curl -i -H "Content-Type: application/json" -H "X-Token: dskc90832hcusad9" -H "UserID: 10" -d '{"title":"Сходить в магазин","body":"Купит хлеб, масло и малоко"}' -X POST http://localhost:8088/notepad && echo
```

Верные методы:
```
curl -i -H "Content-Type: application/json" -H "X-Token: dskc90832hcusad9" -H "UserID: 10" -d '{"title":"Сходить в магазин","body":"Купить хлеб, масло и молоко"}' -X POST http://localhost:8088/notepad && echo
```
```
curl -i -H "Content-Type: application/json" -H "X-Token: dskc90832hcusad9" -H "UserID: 10" -d '{"title":"Сходить в магазин","body":"купить овощей"}' -X POST http://localhost:8088/notepad && echo
```

### Получение всех заметок
```
curl -i -H "X-Token: dskc90832hcusad9" -H "UserID: 10" -X GET http://localhost:8088/notepad && echo
```